name: WordPress CI/CD

on:
  push:
    branches:
      - main

jobs:
  build-deploy:
    name: Build and Deploy WordPress
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      # - name: Deploy to Server
      #   run: |
      #     echo "Deploying to server using GitHub PAT"
          
      - name: Debug Logging
        run: |
          ls -la /var/www/html
          echo "GitHub Actions runner user: $USER"

      - name: Check Node.js Version on Server
        run: |
          # Add your SSH commands here
          # Example: ssh -i /path/to/your/private-key.pem user@your-server "node -v"
          ssh -i /mnt/c/Users/melvi/Desktop/melvinmagro.pem ubuntu@51.20.52.140 "node -v"

        env:
          DEPLOYMENT_TOKEN: ${{ secrets.DEPLOYMENT_TOKEN }}

